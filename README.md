[![우아한테크코스](https://github.com/user-attachments/assets/488b7a20-5b07-462e-afdb-71aac9e68b64)](https://www.woowacourse.io/)

# java-convenience

# 📌 요구사항 요약

구매자의 할인 혜택과 재고 상황을 고려하여 최종 결제 금액을 계산하고 안내하는 결제 시스템 구현
<br/>

# 📝 구현할 기능 목록

### md 파일에서 상품 정보를 읽어와 등록하는 기능

- [x] 프로모션 정보를 읽어 프로모션 객체를 생성한다.
- [x] 상품 정보를 읽어 상품 객체를 생성한다.
    - [x] 프로모션 정보가 `null`이라면 없음으로 처리 (`Optional`)
- [ ] 상품 목록을 편의점에 등록한다.

### 삼품 목록을 안내하고 구매 정보를 입력받는 기능

- [ ] 기본 환영 문구 출력한다.
- [ ] 상품 재고를 출력한다.
- [ ] 구매 상품과 수량을 묻는 문구를 출력한다.
- [ ] 구매 상품과 수량을 입력받는다.
    - [ ] 각 상품과 수량은 `[` `]`로 감싸져 있다.
    - [ ] 상품과 수량은 `-`로 구분된다.
    - [ ] 존재하는 상품인지 검증한다.
    - [ ] 상품 구매량이 재고(프로모션 + 일반) 이하인지 검증한다.
    - [ ] 입력 형식이 맞지 않다면 에러 메시지를 출력한다.

### 프로모션 적용 기능

- [ ] 구매를 원하는 각 상품에 대해 프로모션이 있는지 확인한다.
- [ ] 프로모션 재고가 구매량 + 증정량보다 적다면, 할인이 적용되지 않는 품목을 제외할 지 정가로 결제할 지 입력받는다.
    - [ ] `Y` : 미적용되는 품목을 정가로 결제한다.
    - [ ] `N` : 미적용되는 수량을 제외한다.
- [ ] 구매량이 프로모션 (구매량 + 증정량)을 더한 만큼 나눠 떨어지지 않는다면, 증정받을 수 있는만큼 추가할 지 제외할 지 입력받는다.
    - [ ] `Y` : 증정 받을 수 있는 기준만큼 상품을 추가한다.
    - [ ] `N` : 그대로 진행한다.

### 멤버십 적용 기능

- [ ] 멤버십 할인 적용은 한 구매에서 뿐만 아니라 한 달 범위다.
- [ ] 멤버십 할인 적용 여부를 안내하는 문구를 출력한다.
    - [ ] `Y` : 프로모션 할인 적용전 금액의 30%만큼(최대 8,000원) 결제 금액에서 할인한다.
    - [ ] `N` : 그대로 진행한다.

### 영수증 출력 기능

- [ ] 구매 완료된 상품들의 재고(일반 및 프로모션)를 차감한다.
- [ ] 구매 상품 (상품명, 수량, 금액)
- [ ] 증정품 (상품명, 수량)
- [ ] 총구매액, 행사할인(프로모션 증정 수 * 해당 상품 가격 총 합), 멤버십 할인, 총 결제 금액

### 추가 구매 여부 확인 안내 기능

- [ ] 추가 구매 여부 확인 안내 문구를 출력한다.
    - [ ] `Y` : 다시 반복 진행
    - [ ] `N` : 종료

<br/>

---

# 💡 스스로 판단한 규칙

- [ ] 멤버십 할인 적용은 한 구매에서 뿐만 아니라 한 달 범위다.
